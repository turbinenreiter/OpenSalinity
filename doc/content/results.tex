\chapter{Results}

In this chapter the verification and validation of the developed sensor system are described. The verification is a set of tests designed to review whether or not the system meets the requirements specified in the Chapter \ref{obj} Objectives. The validation is done by analyzing the data gathered during a number of experiments in the bioreactor.

\section{Verification}

\subsection{Spacial Resolution}

\begin{itemize}
\item The system shall have a spacial resolution in the order of \unit[10]{mm}.
\end{itemize}

An inspection of the physical size of the sensor and their placement on the array, drawn in Figure \ref{fig:sensarray}, shows us a sensor size of \unit[10x11]{mm} arranged on a grid of \unit[25x50]{mm}. The theoretical minimal grid size achievable with the chosen sensor size is \unit[11x12]{mm} when a minimum distance between electrodes of \unit[1]{mm} is kept.
This grid size is the physical limitation of the spacial resolution and by being well within the order of \unit[10]{mm} meets the requirement.\\

\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}
		\begin{scope}
		\begin{scope}
			\draw [line width=0.5mm] (10,2.5) -- (-3,2.5) -- (-3,-2.5) -- (10,-2.5);
			\draw (10,2.5) .. controls (11,2) and (9,-2) .. (10,-2.5);
			\draw [dash dot] (-3.5,0) -- (11.5,0);
			\draw [darrow] (11,0) -- (11,-5) node[left, pos=0.45, xshift=-8pt, rotate=90] {25};
		
			\draw [line width=0.5mm] (-1,-1) -- (-1,1) -- (-1.3,1) -- (-1.3,-1) -- (-1,-1);
			\draw [dash dot] (-1.15,-1.5) -- (-1.15,1.2);
			\draw [line width=0.5mm] (1,-1) -- (1,1) -- (1.3,1) -- (1.3,-1) -- (1,-1);
			\draw [dash dot] (1.15,-1.5) -- (1.15,1.2);

			\draw (-1,1.6) -- (-1,1);
			\draw (-1.3,1.6) -- (-1.3,1);
			\draw (-1,1.4) -- (-1.3,1.4) node[above, pos=-0.75] {1};
			\draw [arrow]  (-1.7,1.4) -- (-1.3,1.4);
			\draw [arrow] (-0.6,1.4) -- (-1,1.4);
			
			\draw (-1.9,1) -- (-1.3,1);
			\draw (-1.9,-1) -- (-1.3,-1);
			\draw [darrow] (-1.7,1) -- (-1.7,-1) node[left, pos=0.2, xshift=-8pt, rotate=90] {10};

			\draw [darrow] (-1.15,-1.3) -- (1.15,-1.3) node[below, pos=0.5] {10};
			
			\draw [dash dot] (0,1.6) -- (0,-1.2);
			
			\draw [darrow] (0,1.4) -- (8,1.4) node[above, pos=0.5] {50};
		\end{scope}
		\begin{scope}[shift={(8,0)}]
			\draw [line width=0.5mm] (-1,-1) -- (-1,1) -- (-1.3,1) -- (-1.3,-1) -- (-1,-1);
			\draw [line width=0.5mm] (1,-1) -- (1,1) -- (1.3,1) -- (1.3,-1) -- (1,-1);
			\draw [dash dot] (0,1.6) -- (0,-1.2);
		\end{scope}
		\end{scope}
		\begin{scope}[shift={(0,-5)}]
		\begin{scope}
			\draw [line width=0.5mm] (10,2.5) -- (-3,2.5) -- (-3,-2.5) -- (10,-2.5);
			\draw (10,2.5) .. controls (11,2) and (9,-2) .. (10,-2.5);
			\draw [dash dot] (-3.5,0) -- (11.5,0);
			\draw [line width=0.5mm] (-1,-1) -- (-1,1) -- (-1.3,1) -- (-1.3,-1) -- (-1,-1);
			\draw [line width=0.5mm] (1,-1) -- (1,1) -- (1.3,1) -- (1.3,-1) -- (1,-1);
		\end{scope}
		\begin{scope}[shift={(8,0)}]
			\draw [line width=0.5mm] (-1,-1) -- (-1,1) -- (-1.3,1) -- (-1.3,-1) -- (-1,-1);
			\draw [line width=0.5mm] (1,-1) -- (1,1) -- (1.3,1) -- (1.3,-1) -- (1,-1);
		\end{scope}
		\end{scope}
		\end{tikzpicture}
		\caption{A dimensioned drawing of the sensor grid made up by two strips placed next to each other, not drawn to scale and cut on the right side. It shows the sensor size of \unit[10x11]{mm}, the horizontal distance between sensors of \unit[50]{mm} and the vertical distance of \unit[25]{mm}.}
		\label{fig:sensarray}
	\end{center}
\end{figure}

Due to the coupling of the spacial and time resolutions via the streams velocity as shown in Equation \eqref{eq:resv2} this is not sufficient to verify the requirement. 

\begin{equation}
	v = \dfrac{\diff s}{\diff t}
\label{eq:resv2} 
\end{equation}

A spacial resolution of \unit[10]{mm} would require a time resolution of \unit[0.01]{s}. However, this assumes the size $ l $ of the sensor and the time $ \tau $ a measurement takes to be infinitesimal small, which in reality they are not. While the sensor measures, the flow continues and instead of measuring the conductivity of a certain volume at a certain time, an average is measured. Figure \ref{fig:cv} visualizes this issue.

\begin{figure}
	\begin{center}
		\begin{tikzpicture}
		\node [minimum height=32pt, minimum width=32pt, style=rect, fill opacity=0.2] (0) at (0, 0) {};
		\draw (-0.55,0) -- (-0.55,-1.5);
		\draw (0.55,0) -- (0.55,-1.5);
		\draw [darrow] (-0.55,-1.3) -- (0.55,-1.3) node[above, pos=0.5] {$l$};

		\node [minimum height=32pt, minimum width=32pt, style=vol] (0) at (-1.5, 0) {};
		\draw [arrow] (-2.05,1) -- (-1,1) node[above, pos=0.5] {$v$};
		\node [minimum height=32pt, minimum width=32pt, style=volb] (0) at (-2.6, 0) {};

		\node [] at (4,0) {$t<0$};

		\node [minimum height=32pt, minimum width=32pt, style=vol] (0) at (0, -2.5) {};
		\node [minimum height=32pt, minimum width=32pt, style=volb] (0) at (-1.1, -2.5) {};
		\node [minimum height=32pt, minimum width=32pt, style=rect, fill opacity=0.2] (0) at (0, -2.5) {};

		\node [] at (4,-2.5) {$t=0$};

		\node [minimum height=32pt, minimum width=32pt, style=vol] (0) at (0.25, -4) {};
		\node [minimum height=32pt, minimum width=32pt, style=volb] (0) at (-0.85, -4) {};
		\node [minimum height=32pt, minimum width=32pt, style=rect, fill opacity=0.2] (0) at (0, -4) {};

		\node [] at (4,-4) {$t=\tau$};		
		
		\node [minimum height=32pt, minimum width=32pt, style=vol] (0) at (1.5, -6) {};
		\node [minimum height=32pt, minimum width=32pt, style=volb] (0) at (0.35, -6) {};
		\node [minimum height=32pt, minimum width=32pt, style=rect, fill opacity=0.2] (0) at (0, -6) {};
				
		\node [] at (4,-6) {$t>\tau$};
		\end{tikzpicture}
		%\includegraphics[width=0.45\textwidth]{images/resolution.pdf} 
		\caption{The control volumes in blue have the same size as the sensor (black rectangle). At $t=0$ the measurement starts and the first control volume is directly over the sensor. When the measurement ends at $t=\tau$ the control volumes have moved. The sensor is covered by a mix of the two volumes.}
		\label{fig:cv}
	\end{center}
\end{figure}

To accommodate for that, factors $ n $ \eqref{eq:resn} and $ k $ \eqref{eq:resk} are introduced, describing the ratio of the resolutions to the actual sizes.

\begin{equation}
	n = \dfrac{l}{\diff s}
\label{eq:resn} 
\end{equation}

\begin{equation}
	k = \dfrac{ \tau}{\diff t}
\label{eq:resk}
\end{equation}

Inserting $ k $ and $ n $ in Equation \eqref{eq:resv} yields:

\begin{equation}
	v = \dfrac{\diff s}{\diff t} = \dfrac{k \cdot l}{n \cdot \tau}
\label{eq:resv1} 
\end{equation}

The ratio $ r $
\begin{equation}
	r = \frac{k}{n}
\label{eq:resr} 
\end{equation}
is the ratio of the time it takes a control volume to enter and leave the sensor area  to the time a measurement takes. Its inverse is the movement of the control volume during the measurement time and thereby the percentage by which the measured volume is bigger than the control volume. A ratio of one would mean the measured volume is two times the sensor size, thereby halving the spacial resolution. To keep the resolution close the the sensor size, a ratio of 4, increasing the measured volume by \unit[25]{\%} is viable.
With the given sensor size and flow speed, a measurement time $ \tau $ of \unit[0.0025]{s} or \unit[2.5]{ms} is needed.\\

To test if the time resolution matches this, the measurement time itself can be timed. The difference between two adjacent times, i.e. the first time (\unit[975209221]{ns}) and the second time (\unit[975209961]{ns}), in the data set in Listing \ref{lst:data} is the measurement time of \unit[740]{ns}. The mean of the differences through the whole data set is \unit[748]{ns}. This means that the measurement is more than three times faster than required, showing that the time resolution easily matches the spacial resolution.

\begin{lstlisting}[caption={An excerpt of measurement data showing three lines of data from eight sensors. The long numbers are the times at which the measurements were taken in nanoseconds measured from the start, the short numbers are the measured values.},label={lst:data}]
975209221 21 975209961 59 975210676 15 975211397 0 975212119 0 975212840 26 975213554 59 975214276 9 
975215877 57 975216602 42 975217324 0 975218046 0 975218761 0 975219482 61 975220204 43 975220919 0 
975222520 52 975223271 0 975223993 0 975224708 0 975225429 45 975226150 53 975226867 0 975227583 0  
\end{lstlisting}

\subsection{Electrical Conductivity Resolution and Range}


\begin{itemize}
\item The system shall have a sensitivity of  \unit[0.1]{\%} salinity.
\item The system shall have a range from 0 to \unit[5]{\%} salinity.
\end{itemize}

Table \ref{tab:rns} shows the results of measurements of solutions with different salinities. A \unit[10]{\%} solution was created by adding \unit[5]{g} of salt to \unit[100]{ml} of demineralized water. The subsequent solutions resulted from diluting the original one by adding more water.

The measurable change of the voltage was visible at the drop from a salinity of \unit[5]{\%} to \unit[2.5]{\%}. Between \unit[10]{\%} and \unit[5]{\%} no difference was measurable at all. The upper range limit can therefore be placed between \unit[5]{\%} and \unit[2.5]{\%}, above those values the sensor is saturated, providing only the information that the salinity is above the threshold.

On the lower limit, a measurement without any water, resulted in a voltage of \unit[0.02]{V}. This has to be considered the level of noise in the system. Above that, a clear distinction between salinities of \unit[0.08]{\%} and \unit[0.16]{\%} can be seen.

\begin{table}[H]
    \centering

    \caption[Range and Sensitivity]{Range and Sensitivity}
    \label{tab:rns}
    \begin{tabular}{rr}
        	\toprule
        	Salinity in [\%] & Voltage in [V] \tabularnewline
        	\midrule
		10.00 & 0.95 \tabularnewline
        	5.00 & 0.95 \tabularnewline
		2.50 & 0.85 \tabularnewline
		1.25 & 0.65 \tabularnewline
		0.63 & 0.45 \tabularnewline
		0.31 & 0.28 \tabularnewline
		0.16 & 0.18 \tabularnewline
		0.08 & 0.11 \tabularnewline
		Air & 0.02 \tabularnewline
        \bottomrule
    \end{tabular}
\end{table}

While the requirement for sensitivity is clearly met, the range is just barely acceptable. The later validation will show if it is sufficient or not.

\subsection{Cost}

\begin{itemize}
\item Requirement: The cost per sensor shall be less than \euro{25}
\end{itemize}

Using the bill of materials in Chapter \ref{BOM} a total price of \euro{121.8} for all materials for a sensor system with eight sensors can be calculated, resulting in a price per sensor of \euro{15.23}. Adding additional sensors after that would cost \euro{11.17} per sensor, as parts like the microcontroller do not have to be duplicated.

This price does not include the host PC as the PCs already installed in the laboratory can be used, as well as personal laptops like it was done in the testing phase. The demands on the host PC are very low, so in the worst case even a single board computer like the Raspberry Pi or similar can be used.

\subsection{Deployability in the Bioreactor}

\begin{itemize}
\item  The system shall be deployable in the algae reactor.\\
\end{itemize}

The deployability was demonstrated during two test campaigns on the reactor. Figures \ref{fig:stripsr} and \ref{fig:pcr} show the set up during the tests. The host PC can be placed on a desk next to the reactor and be connected to the carrier board with a USB cable. The carrier board can also be placed on the desk or temporarily be mounted on the reactor. The sensor strips connect to the carrier board with \unit[1]{m} long cables and are attached to the reactor with electrical tape.

\begin{figure}[H]
	\begin{center}
		\includegraphics[width=0.8\textwidth]{images/stripsinreactor.jpg} 
		\caption{The sensor strips are mounted to the bioreactor with electrical tape. Cables of \unit[1]{m} length run towards the carrier board.}
	\label{fig:stripsr}
	\end{center}
\end{figure}

\begin{figure}[H]
	\begin{center}
		\includegraphics[width=0.8\textwidth]{images/pconreactor.jpg} 
		\caption{A laptop is used as host PC. A USB cable connects to the microcontroller on the carrier board, which is mounted on the side of the inlet basin.}
	\label{fig:pcr}
	\end{center}
\end{figure}

\subsection{Usability}

\begin{itemize}
\item  The system shall be usable with a minimal set of written instructions.\\
\end{itemize}

The instruction manual for taking a series of measurements can be found in the Appendix. First, an image describes the different parts of the system relevant to the user. After that a step-by-step description with images helps the user through the process. In a test, a person not familiar with the device, but generally familiar with laboratory equipment, was able to successfully conduct measurements within minutes by following the manual. However, there is to note that errors in the software occurring in certain situations can quickly destroy this ease of use. Further testing needs to be done to surface those errors so they can be fixed.

\section{Validation} \label{val}

The following chapter describes a number of experiments conducted using the developed sensor system. The data is analyzed and interpreted to validate if the results are reasonable. 
%Finally, a comparison with data from simulations tries to validate the usefulness of the device.

All experiments where done on the same day on the same bioreactor. The schematic in Figure \ref{fig:senspos} shows how the sensors were positioned.

\begin{figure}[H]
	\begin{center}
\begin{tikzpicture}[
    scale=0.03,
    every node/.style={
            font={\large\bf},
            scale=1.2
        },
    geometryLine/.style={
            very thick
        },
    internalGeometryLine/.style={
            dashed
        },
    ]
    
    % center line
    \draw[internalGeometryLine]
        (0, -252) -- (0, 40);

    % general outline
    \draw[geometryLine] 
            (0, 0)
         -- (272, 0)
         -- (425, -80)
         -- (425, -212)
         -- (0, -212);
    \draw[geometryLine]
            (0, -80)
         -- (425, -80);
    
    % baffle
    \draw[geometryLine]
            (25, 0)
         -- (25, -10);
    \draw[geometryLine]
            (0, -10)
         -- (60, -10)
         -- (60, -80)
         -- (0, -80)
         -- cycle;
        
    % water flow
    % inlet
    \fill[blue!50!white] (0, 0) -- (25, 0) -- (25, -10) -- (0, -10) -- cycle;
    \draw[blue!50, very thick, ->, >={Stealth}] (60, -20) -- (100, -20);
    % from inlet to weir
    \draw[blue!50, thick, ->, >={Stealth}] plot [smooth] coordinates {(70, -60) (80, -80) (70, -100)};
    \draw[blue!50, thick, ->, >={Stealth}] plot [smooth] coordinates {(300, -60) (310, -80) (300, -100)};
    % weir
    \draw[blue!50, very thick, ->, >={Stealth}] (50, -192) -- (50, -232);
    \draw[blue!50, very thick, ->, >={Stealth}] (150, -192) -- (150, -232);
    \draw[blue!50, very thick, ->, >={Stealth}] (250, -192) -- (250, -232);
    \draw[blue!50, very thick, ->, >={Stealth}] (350, -192) -- (350, -232);
        
    % measurement strips
    \begin{scope}[shift={(82, -30)}]
        \fill[Sepia]
                (0, 0) -- (200, 0)
             -- (200, -20) -- (0, -20)
             -- cycle;
        \draw[Goldenrod, thick] (10, -5) -- (10, -15);
        \draw[Goldenrod, thick] (20, -5) -- (20, -15)
            node[black, below, xshift=-4pt, yshift=-1pt] (inner-4) {4};
        \draw[Goldenrod, thick] (60, -5) -- (60, -15);
        \draw[Goldenrod, thick] (70, -5) -- (70, -15)
            node[black, below, xshift=-4pt, yshift=-1pt] (inner-3) {3};
        \draw[Goldenrod, thick] (110, -5) -- (110, -15);
        \draw[Goldenrod, thick] (120, -5) -- (120, -15)
            node[black, below, xshift=-4pt, yshift=-1pt] (inner-2) {2};
        \draw[Goldenrod, thick] (160, -5) -- (160, -15);
        \draw[Goldenrod, thick] (170, -5) -- (170, -15)
            node[black, below, xshift=-4pt, yshift=-1pt] (inner-1) {1};
    \end{scope}
    
    \begin{scope}[shift={(82, -136)}]
        \fill[Sepia]
                (0, 0) -- (200, 0)
             -- (200, -20) -- (0, -20)
             -- cycle;
        \draw[Goldenrod, thick] (10, -5) -- (10, -15);
        \draw[Goldenrod, thick] (20, -5) -- (20, -15)
            node[black, below, xshift=-4pt, yshift=-1pt] (weir-4) {8};
        \draw[Goldenrod, thick] (60, -5) -- (60, -15);
        \draw[Goldenrod, thick] (70, -5) -- (70, -15)
            node[black, below, xshift=-4pt, yshift=-1pt] (weir-3) {7};
        \draw[Goldenrod, thick] (110, -5) -- (110, -15);
        \draw[Goldenrod, thick] (120, -5) -- (120, -15)
            node[black, below, xshift=-4pt, yshift=-1pt] (weir-2) {6};
        \draw[Goldenrod, thick] (160, -5) -- (160, -15);
        \draw[Goldenrod, thick] (170, -5) -- (170, -15)
            node[black, below, xshift=-4pt, yshift=-1pt] (weir-1) {5};
    \end{scope}
\end{tikzpicture}    
		\caption{Position of the sensors in the inlet basin. \parencite{ts}}
		\label{fig:senspos}
	\end{center}
\end{figure}

With this configuration, two types of experiments were run: the first method uses the bioreactors plumbing to switch the feed from the return basin to an external tank containing saltwater. Instead of pumping water in a loop, saltwater from the tank is added to the water cycle and the increase can be measured. The second method retains the original water cycle, but adds an impulse of saltwater in the return basin.

For the following analysis of the experiments their original numeration is retained, but not all of them are described as not all of them are relevant. For example, in the first experiment no salt water was added, others were exact duplicates. By keeping the original notation continuity between the data files, notes and documentation can be upheld.\\

\textbf{Test No. 2}

In this test the feed switch method was used. The total amount of water in the tank was \unit[65]{l} and the flow rate was $\dot{v} =  \unitfrac[1.6]{l}{s}$. The saltwater in the external tank had a salinity of \unit[1.5]{\%}.\\

Figure \ref{fig:test2_7_scatter} shows a plot of the a slice of data taken by sensor eight, located on the inner side of the weir and is used to illustrate the filter design. The aim of the filter is to create an envelope tightly following the maxima of the signal. In the first step, a reduced data set is constructed from the maximum values over small slices of the raw data. The second step applies a smoothing filter developed by \textcite{savitzky1964smoothing} to create the final graph.

\begin{figure}[H]
	\begin{center}
		%\input{images/log080716_2}
		\includegraphics[width=0.8\textwidth]{images/log080716_2_7_scatter.pdf} 
		\caption{Filter design - the scatter plot shows the raw data (\drawline[cyan]), filtered for local maxima (\drawline[blue]) and smoothed with a Savitzky-Golay filter (\drawline[red]).}
		\label{fig:test2_7_scatter}
	\end{center}
\end{figure}

In Figure \ref{fig:test2_37_adj} the data for sensors four and eight are compared. In the left plot a difference in the scale of the graphs can be seen. This scaling offset is a result of the different internal resistance along each sensor's conductive path as well as the amount of  water over on the electrodes. On the weir, there is just a thin water film, while the basin is much deeper. For our comparison this scaling is unfavorably as the slopes of the signal changing over time are of interest, which are influenced by the absolute values. To counter this, all data is calibrated by calculating a mean value over an undisturbed data sample and scaling it to the first sensor.

\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}
			\node[,inner sep=0] (a) at (0,0) {\includegraphics[width=0.5\textwidth]{images/log080716_2_37_unadj.pdf}};
			\node[inner sep=0, right of=a, node distance=0.5\textwidth] {\includegraphics[width=0.5\textwidth]{images/log080716_2_37_adj.pdf}};
		\end{tikzpicture}
		\caption{Sensor calibration - sensor four (\drawline[blue]) and sensor eight (\drawline[red]) are compared uncalibrated on the left and calibrated on the right.}
		\label{fig:test2_37_adj}
	\end{center}
\end{figure}

With the data now properly filtered and scaled interpretation of the measurements can begin. Figure \ref{fig:test2} shows a comparison of sensor four and eight. Signal four changes first with signal eight trailing those changes with a delay. As sensor four is closer to the inlet, this behavior matches the expectations. The first big impulse happens directly after the feed is switched. The drop afterwards and the leveling off suggests a blending of the added saltwater with water still in the system.

\begin{figure}[H]
	\begin{center}
		\includegraphics[width=0.8\textwidth]{images/log080716_2.pdf} 
		\caption{Test No. 2 - sensor four (\drawline[blue]) and sensor eight (\drawline[red]) are compared. Signal four which is measured further upstream always changes before the downstream signal does.}
		\label{fig:test2}
	\end{center}
\end{figure}

Another interesting data point is the the behavior when the water flow is first switched on. Figure \ref{fig:test2_on} shows the signals during this phase. Signal four in the inlet basin rises first, signal eight rises about \unit[4]{s} later. This is the time it takes the empty basin to fill up completely, only after that the water flows over the weir. At a flow rate of \unitfrac[1.6]{l}{s}, this suggests a volume of the inlet basin of around \unit[6.4]{l}. The real volume calculated from the schematics is about \unit[6]{l}.

\begin{figure}[H]
	\begin{center}
		\includegraphics[width=0.8\textwidth]{images/log080716_2_on.pdf} 
		\caption{Behavior during the start of the water flow - sensor four (\drawline[blue]) and sensor eight (\drawline[red]) are compared uncalibrated on the left and calibrated on the right. Signal eight rises only after the inlet basin is completely filled which takes about \unit[4]{s}.}
		\label{fig:test2_on}
	\end{center}
\end{figure}

\textbf{Test No. 3}

The next test retained all specifics of the prior one, except for a higher salinity of \unit[1.9]{\%}. In Figure \ref{fig:test3} again sensors four and eight are compared. The behavior mirrors the previous experiment with the main difference being the higher voltage measured due to the higher salinity of the water from the external tank.

\begin{figure}[H]
	\begin{center}
		%\input{images/log080716_3}
		\includegraphics[width=0.8\textwidth]{images/log080716_3.pdf} 
		\caption{Test No.3 with a higher salinity than before - sensor four (\drawline[blue]) and sensor eight (\drawline[red])}
		\label{fig:test3}
	\end{center}
\end{figure}

\textbf{Test No. 4}

While maintaining the previous volume and flow rate, this test used the impulse method instead of the feed switch. There were \unit[5]{l} of water with a salinity of \unit[7.7]{\%} added to the return basin. The first peak directly follows the addition of the saltwater, after about \unit[50]{s} a second peak follows. This is the time it takes the water volume to completely circle through the bioreactor. The third peak is barely visible as the water and saltwater are almost completely diffused.

\begin{figure}[H]
	\begin{center}
		%\input{images/log080716_4}
		\includegraphics[width=0.8\textwidth]{images/log080716_4.pdf} 
		\caption{Test No. 4 using the impulse method - sensor four (\drawline[blue]) and sensor eight (\drawline[red])}
		\label{fig:test4}
	\end{center}
\end{figure}

\textbf{Test No. 6}

Again the impulse method was used but with an increased flow rate of \unitfrac[2]{l}{s} and a lower salinity of \unit[6.7]{\%}. The time from first to second peak is now about \unit[40]{s}, as expected due to the higher flow rate. The voltages are also a little lower because of the lower salinity.

\begin{figure}[H]
	\begin{center}
		%\input{images/log080716_6}
		\includegraphics[width=0.8\textwidth]{images/log080716_6.pdf} 
		\caption{Test No. 6 impulse method with higher flow rate and lower salinity - sensor four (\drawline[blue]) and sensor eight (\drawline[red])}
		\label{fig:test6}
	\end{center}
\end{figure}

After proper filtering and scaling of the data, all conducted tests showed results consistent with the expected behavior of the bioreactor. The problem of the limited range of the sensors did not negatively impact on the measurement, as the occurring salinities were lower than initially estimated. Given the new information, a range going only as high as \unit[2.5]{\%} proves sufficient. The developed system provides a low-cost electrical conductivity meter for liquids suitable to be used as an aid to measure and analyze the flow in a photobioreactor and thereby succeeds in meeting the goal of the project.
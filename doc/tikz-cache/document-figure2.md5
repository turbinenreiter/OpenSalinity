\begingroup \toks 0={macro:->[scale=1] \node [style=scircle, inner sep=8pt] (0) at (0, 15) {power on}; \node [style=diamond, inner sep=8pt, align=center] (1) at (0, 10) {read\\command\\from GUI}; \node [style=rect, inner sep=8pt, align=center] (2) at (0, 6) {switch to\\sensor n}; \node [style=rect, inner sep=8pt, align=center] (3) at (0, 4) {read ADC}; \node [style=rect, inner sep=8pt, align=center] (4) at (0, 2) {create\\timestamp}; \node [style=rect, inner sep=8pt, align=center] (5) at (0, 0) {send data\\to GUI}; \draw [style=arrow] (0) to (1); \draw [style=arrow] (1) to node[right, pos=0.1]{Start} (2); \draw [style=arrow] (2) to (3); \draw [style=arrow] (3) to (4); \draw [style=arrow, bend right=90, looseness=1.00, align=left] (4) to node[right]{n++\\while n < sensors} (2); \draw [style=simple, in=90, out=0, looseness=2.5] (1.east) to node[below, pos=0.1, yshift=-4pt]{Stop} (1.north); \draw [style=arrow] (4) to (5); \draw [style=arrow, in=-180, out=-90, looseness=1.25] (5) to (1); }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
